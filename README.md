# Realization of Hierarchical Navigable Short World as proposed in http://arxiv.org/pdf/1603.09320v2.pdf

# Реализация алгоритма поиска HNSW, предложенного в статье http://arxiv.org/pdf/1603.09320v2.pdf

* HNSW - Слоистая структура графов. На нулевом слое представлены все N вершин из исходной выборки. Вершина, присутствующая на уровне L так же присутствует на уровне L+1 с вероятностью P. Т.е. кол-во слоёв растет как O(log N). Количество соседей каждой вершины на каждом уровне ограниченно константой, что позволяет делать запросы на добавление и удаление вершины за O(log N).

* Алгоритм состоит из пяти частей:
	* Алгоритм добавления новой вершины в облако (функция _add_, в статье - Algorithm 1)
	* Алгоритм поиска на текущем слое (функция _\_search\_graph_, в статье - Algorithm 2)
	* Алгоритм выбора М соседей "наивным" путем, т.е. М соседей с минимальным расстоянеим до объекта (функция _\_select\_naive_, в статье - Algorithm 3)
	* Алгоритм для выбора М соседей с помощью эвристики (функция _\_select\_heuristic_, в статье - Algorithm 4)
	* Алгоритм для поиска k ближайших соседей к запросу (функция _search_, в статье - Алгоритм 5)

* В реализации также присутствуют функции для сохранения и загрузки имеющегося графа HNSW при помощи библиотеки _pickle_. Однако поскольку Python не позволяет делать _dump_ функций, перед сохранением облака необходимо удалить функцию, используемую для вычисления расстояний между объектами.

* В конце кода представлен пример создания облака HNSW. Все слои представлены на одном рисунке. Фиолетовые линии соответстуют связям (ребрам) на нулевом слое, синие - на первом, бирюзовые - на втором, зеленые - на третьем и так далее - чем светлее и больше связи (ребра), тем выше уровень. Для запуска примера необходимо скачать .py файл и в командной строке написать _python hnsw.py_.

<div align="center">
<img src=https://github.com/Aktsvigun/hnsw_python/blob/master/template.png" >
<p>Template HNSW cloud</p>
</div>
